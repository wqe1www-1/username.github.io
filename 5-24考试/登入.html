<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/layui@2.7.6/dist/css/layui.css"
    />
    <script src="https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js"></script>
    <!-- <script src="./1.js"></script> -->
    <script src="https://www.makeapie.cn/dep/echarts/map/js/china.js"></script>
    <!-- 引入 layui.js -->
    <script src="https://unpkg.com/layui@2.7.6/dist/layui.js"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper@8/swiper-bundle.css"
    />
    <script src="https://unpkg.com/swiper@8/swiper-bundle.js"></script>

    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.4/jquery.js"></script>
  </head>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />

  <style>
    body,
    html {
      width: 100%;
      height: 100%;
    }
    #div {
      width: 100%;
    }
    main {
      display: none;
    }
    .demo-login-container {
      width: 320px;
      margin: 21px auto 0;
    }
    .demo-login-other .layui-icon {
      position: relative;
      display: inline-block;
      margin: 0 2px;
      top: 2px;
      font-size: 26px;
    }
  </style>
  <body>
    <img
      src="https://img.zcool.cn/community/01fc9a5d1fff7ea801207640ef9f0d.gif "
      width="100%"
      height="100%"
      alt=""
      id="dh"
    />

    <main>
      <div
        id="div"
        class="swiper mySwiper swiper-initialized swiper-horizontal swiper-pointer-events swiper-backface-hidden"
      >
        <div
          class="swiper-wrapper"
          id="swiper-wrapper-fffae8f95d23783e"
          aria-live="polite"
          style="
            transition-duration: 0ms;
            transform: translate3d(-2160px, 0px, 0px);
          "
        >
          <div class="swiper-slide" role="group" style="width: 1080px">
            <img
              src="https://img0.baidu.com/it/u=3425868493,3104015061&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1685120400&t=76ecfbbf65b0936ff236f019a1d1eb39"
              width="100%" height="800px
              "
              alt=""
            />
          </div>
          <div
            class="swiper-slide swiper-slide-prev"
            role="group"
            style="width: 1080px"
          >
            <img
              src="https://img2.baidu.com/it/u=1361506290,4036378790&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1685120400&t=22d0184b1ef80f4dd669c6b42f22b4d4"
              width="100%" height="800px"
              alt=""
            />
          </div>
          <div
            class="swiper-slide swiper-slide-active"
            role="group"
            style="width: 1080px"
          >
            <img
              src="https://img1.baidu.com/it/u=1960110688,1786190632&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1685034000&t=306fac623eae24da2181d8913b1e3e65"
              width="100%"height="800px"
              alt=""
            />
          </div>
          <div
            class="swiper-slide swiper-slide-next"
            role="group"
            style="width: 1080px"
          >
            <img
              src="https://img0.baidu.com/it/u=4162443464,2854908495&fm=253&app=138&size=w931&n=0&f=JPEG&fmt=auto?sec=1685034000&t=0392ad62a3678f3177dc7f77785f2dc2"
              width="100%" height="800px"
              alt=""
            />
          </div>
        </div>
        <span
          class="swiper-notification"
          aria-live="assertive"
          aria-atomic="true"
        ></span>
      </div>

      <form
        class="layui-form"
        style="position: absolute; top: 24%; z-index: 100; left: 40%"
      >
        <h1 style="text-align: center; color: aliceblue">登入</h1>
        <div class="demo-login-container">
          <div class="layui-form-item">
            <div class="layui-input-wrap">
              <div class="layui-input-prefix">  </div>
              <input
                id="inp1"
                type="text"
                name="username"
                value=""
                lay-verify="required"
                placeholder="用户名"
                lay-reqtext="请填写用户名"
                autocomplete="off"
                class="layui-input"
                lay-affix="clear"
              />
            </div>
          </div>
          <div class="layui-form-item">
            <div class="layui-input-wrap">
              <div class="layui-input-prefix"></div>
              <input
                id="inp2"
                type="password"
                name="password"
                value=""
                lay-verify="required"
                placeholder="密   码"
                lay-reqtext="请填写密码"
                autocomplete="off"
                class="layui-input"
                lay-affix="eye"
              />
            </div>
          </div>
          <div class="layui-form-item">
            <div class="layui-row">
              <div class="layui-col-xs7">
                <div class="layui-input-wrap">
                  <div class="layui-input-prefix"></div>
                  <input
                    id="inp3"
                    type="text"
                    name="captcha"
                    value=""
                    lay-verify="required"
                    placeholder="验证码"
                    lay-reqtext="请填写验证码"
                    autocomplete="off"
                    class="layui-input"
                    lay-affix="clear"
                  />
                </div>
              </div>
              <div class="layui-col-xs5">
                <div style="margin-left: 10px">
                  <div
                    id="div888"
                    style="font-size: 27px; font-weight: 1000; color: #4daf29"
                  ></div>
                </div>
              </div>
            </div>
          </div>
          <div class="layui-form-item">
            <input
              type="checkbox"
              name="remember"
              lay-skin="primary"
              title="记住密码"
            />
            <a href="#forget" style="float: right; margin-top: 7px"
              >忘记密码？</a
            >
          </div>
          <div class="layui-form-item">
            <button
              onclick="fun()"
              class="layui-btn layui-btn-fluid"
              lay-submit
              lay-filter="demo-login"
            >
              登录
            </button>
          </div>
          <div class="layui-form-item demo-login-other">
            <label>社交账号登录</label>
            <span style="padding: 0 21px 0 6px">
              <a href="javascript:;"
                ><i
                  class="layui-icon layui-icon-login-qq"
                  style="color: #3492ed"
                ></i
              ></a>
              <a href="javascript:;"
                ><i
                  class="layui-icon layui-icon-login-wechat"
                  style="color: #4daf29"
                ></i
              ></a>
              <a href="javascript:;"
                ><i
                  class="layui-icon layui-icon-login-weibo"
                  style="color: #cf1900"
                ></i
              ></a>
            </span>
            或 <a href="#reg">注册帐号</a>
          </div>
        </div>
      </form>
    </main>
  </body>
  <script>
    $(function () {
      if (
        localStorage.getItem("username") != null &&
        localStorage.getItem("password") != null
      ) {
        window.location.href = "./首页.html";
      }

      setTimeout(() => {
        $("#dh").css("display", "none");
        $("main").css("display", "block");
        var swiper = new Swiper(".mySwiper", {
          direction: "horizontal",
          autoplay: {
    delay: 1000,
    stopOnLastSlide: false,
    disableOnInteraction: false,
    }
        });
      }, 3000);
    });

    layui.use(function () {
      var form = layui.form;
      var layer = layui.layer;
      // 提交事件
      form.on("submit(demo-login)", function (data) {
        event.preventDefault();
        var field = data.field; // 获取表单字段值
        if ($("#inp3").val() == $("#div888").html()) {
          if (JSON.parse(JSON.stringify(field)).remember == "on") {
            localStorage.setItem("username", field.username);
            localStorage.setItem("password", field.password);
          }
          window.location.href = "./首页.html";
        }else{
          alert("验证码不正确")
        }

        return false; // 阻止默认 form 跳转
      });
    });

    let num = "";
    for (let i = 0; i < 4; i++) {
      let j = Math.floor(Math.random() * 10);
      num += j;
    }
    $("#div888").html(num);
  </script>
</html>
